<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="~{fragments/header :: header}">
</head>
<body>
<!-- Page Content -->
<div class="container blog-content-container">

     <div id="catalogMain">
	      	   <div class="card my-4" id="catalogRepleace">
	            <h5 class="card-header"><i class="fa fa-bars" aria-hidden="true"></i> 分类 <a href="javascript:void(0)" th:if="${isCatalogsOwner}" class="blog-add-catalog blog-right" data-toggle="modal"
			data-target="#flipFlop" role="button"><i
			class="fa fa-plus" aria-hidden="true"></i></a></h5>
	
	            <ul class="list-group" th:each="catalog : ${catalogs}" th:object="${catalog}">
	            	<div class="blog-list-group-item">
	     	 
	     				
	            		<a href="javascript:void(0)" th:attr="catalogId=*{id}" class="blog-query-by-catalog">
	                    [[*{name}]]
	                	</a>
	      				<span class="blog-right">
	                		<a href="javascript:void(0)" th:if="${isCatalogsOwner}" class="blog-edit-catalog" data-toggle="modal"
								data-target="#flipFlop" role="button" th:attr="catalogId=*{id}"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
	                		<a href="javascript:void(0)" th:if="${isCatalogsOwner}" class="blog-delete-catalog" th:attr="catalogId=*{id}"><i class="fa fa-times" aria-hidden="true"></i></a>
	            		</span>
	   
	            	</div>
 
 
	            </ul>
	        </div>
	      </div>

</div>
<!-- /.container -->

<!-- The modal -->
<div class="modal fade" id="flipFlop" tabindex="-1" role="dialog"
	aria-labelledby="modalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="modalLabel">新增/编辑</h4>
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>

			</div>
			<div class="modal-body" id="catalogFormContainer"></div>
			<div class="modal-footer">
				<button class="btn btn-primary" data-dismiss="modal" id="submitEditCatalog">提交</button>
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>



<!-- JavaScript -->
<script th:inline="javascript">
var username = [[${user.username}]];
var catalogId = [[${catalogId}]];
</script>
<script src="../../js/userspace/u.js" th:src="@{/js/userspace/u.js}"></script>
</body>
</html>